<h1 class="govgr-heading-md">Έλεγχος πρόσβασης</h1>

<p class="govgr-body d-flex flex-column gap-3">
  Στην εκπαιδευτική πλατφορμα η πρόσβαση στο σύστημα είναι δυνατή μόνο από εξουσιοδοτημένους
  χρήστες με τη χρήση του Google account τους. Χρησιμοποιήστε τον παρακάτω σύνδεσμο για να συνδεθείτε.

  <asl-google-signin-button type="standard" size="large">
  </asl-google-signin-button>

</p>

<div class="govgr-body">
  <h1 class="govgr-heading-md">Αυθεντικοποίηση χρηστών με Κωδικούς Δημόσιας Διοίκησης</h1>
  <p class="d-flex gap-3">
    <button class="btn btn-primary" (click)="login()">
      Είσοδος με ΚΕΔ
    </button>
   </p>
</div>

@if (loading()) {
  <span class="d-flex align-items-center gap-2 mb-5">
    Αναμονή αυθεντικοποίησης...
    <span class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </span>
  </span>
}

<div *ngIf="user()" class="mb-5">

  <h1 class="govgr-heading-sm">Συνδέθηκε ο χρήστης <strong>{{user().name}}</strong></h1>

  <p>
    Πίνακας με τα λεκτικά των θέσεων που κατέχει ο υπάλληλος οργανωμένα ιεραρχικά με βάση την οργανική μονάδα του υπαλλήλου.
    {{ user().empOrgUnitTexts }}
  </p>
  
  <h2>Προσβάσεις υπαλλήλου:</h2>
  <ul>
    @for (role of user().roles; track role){
      <li>Ρόλος: {{role.role}}, Φορείς: {{role.foreas}}</li>
    }
  </ul>
  {{ user().empOrgUnitTexts }}
</div>
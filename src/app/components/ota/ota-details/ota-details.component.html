<h1 class="govgr-heading-md">Ψηφιοποίηση του Κώδικα των ΟΤΑ</h1>

@if (loading) {
  <span class="d-flex align-items-center gap-2">
    Αναμονή αποτελεσμάτων...
    <span
        class="spinner-border text-primary"
        role="status">
        <span class="visually-hidden">Loading...</span>
    </span>
  </span>
}

@if(!loading) { 
  <div class="d-flex justify-content-between mb-2">
    <span class="d-flex justify-content-end small">Ανοίξτε την καρτέλα του ΟΤΑ με διπλό κλικ</span>
    <button *ngIf ="hasOtaAdminRole() || hasOtaEditorRole()" class="btn btn-primary btn-sm" (click)="newOta()">
      Νέα Αρμοδιότητα
    </button>
  </div>

  <ag-grid-angular
    [domLayout]="'autoHeight'"
    [rowData]="otaDetails"
    [defaultColDef]="defaultColDef"
    [columnDefs]="colDefs"
    [pagination]="true"
    [paginationPageSize]="10"
    [loadingOverlayComponent]="loadingOverlayComponent" 
    [loadingOverlayComponentParams]="loadingOverlayComponentParams"
    (gridReady)="onGridReady($event)"
    class="ag-theme-balham">
  </ag-grid-angular>
}
<!-- (rowDoubleClicked)="onRowSelected($event)" -->